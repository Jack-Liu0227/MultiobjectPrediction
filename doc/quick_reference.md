# LLM è§£æä¼˜åŒ– - å¿«é€Ÿå‚è€ƒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ æµ‹è¯•è§£æåŠŸèƒ½
```bash
python scripts/test_llm_parser.py
```

### 2ï¸âƒ£ æŸ¥çœ‹æ¼”ç¤º
```bash
python scripts/demo_verification.py
```

### 3ï¸âƒ£ éªŒè¯é¢„æµ‹ç»“æœï¼ˆè¯•è¿è¡Œï¼‰
```bash
python scripts/batch_update_predictions.py --dry-run
```

### 4ï¸âƒ£ æ­£å¼æ›´æ–°
```bash
python scripts/batch_update_predictions.py
```

## ğŸ“‹ å¸¸ç”¨å‘½ä»¤

### éªŒè¯ç‰¹å®šä»»åŠ¡
```bash
python scripts/batch_update_predictions.py --filter {task_id} --dry-run
```

### æŒ‡å®šç»“æœç›®å½•
```bash
python scripts/batch_update_predictions.py --results-dir storage/results
```

## ğŸ“Š è¾“å‡ºæ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `{task_id}_verification_details.csv` | éªŒè¯è¯¦æƒ…ï¼ˆåŒ…å«è§£æç»“æœå’Œå¯¹æ¯”ä¿¡æ¯ï¼‰ |
| `predictions.csv` | æ›´æ–°åçš„é¢„æµ‹ç»“æœ |
| `process_details.json` | æ›´æ–°åçš„å¤„ç†è¯¦æƒ… |
| `metrics.json` | é‡æ–°è®¡ç®—çš„æŒ‡æ ‡ |
| `verification_report_{timestamp}.json` | æ€»ä½“éªŒè¯æŠ¥å‘Š |

### éªŒè¯è¯¦æƒ… CSV åˆ—è¯´æ˜
- `sample_index`: æ ·æœ¬ç´¢å¼•
- `is_match`: æ˜¯å¦åŒ¹é…
- `{target}_parsed`: è§£æå¾—åˆ°çš„é¢„æµ‹å€¼
- `{target}_saved`: å·²ä¿å­˜çš„é¢„æµ‹å€¼
- `{target}_diff`: å·®å¼‚å€¼
- `parsed_result`: å®Œæ•´è§£æç»“æœï¼ˆJSONï¼‰
- `saved_result`: å·²ä¿å­˜çš„å®Œæ•´ç»“æœï¼ˆJSONï¼‰

## ğŸ”§ æ”¯æŒçš„æ ¼å¼

### âœ… å¤šç›®æ ‡ï¼ˆæ ‡å‡†ï¼‰
```json
{"predictions": {"UTS(MPa)": {"value": 646.0, "unit": "MPa"}, "El(%)": {"value": 4.65, "unit": "%"}}}
```

### âœ… å¤šç›®æ ‡ï¼ˆç®€åŒ–ï¼‰
```json
{"predictions": {"UTS(MPa)": 646.0, "El(%)": 4.65}}
```

### âœ… é€šç”¨é”®å
```json
{"predictions": {"target_1": 646.0, "target_2": 4.65}}
```

### âœ… å•ç›®æ ‡
```json
{"prediction_value": 646.0}
```

## ğŸ›¡ï¸ å®‰å…¨æœºåˆ¶

- âœ… è‡ªåŠ¨å¤‡ä»½ï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰
- âœ… è¯•è¿è¡Œæ¨¡å¼ï¼ˆ--dry-runï¼‰
- âœ… è¯¦ç»†æ—¥å¿—è®°å½•
- âœ… é”™è¯¯å¤„ç†å’ŒéªŒè¯

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- ä½¿ç”¨æŒ‡å—: `doc/llm_parser_optimization_guide.md`
- ä¼˜åŒ–æ€»ç»“: `doc/optimization_summary.md`

## âš¡ æ ¸å¿ƒç‰¹æ€§

1. **åŠ¨æ€ç›®æ ‡æ”¯æŒ** - æ”¯æŒ 1ã€2ã€3 ä¸ªæˆ–æ›´å¤šç›®æ ‡å±æ€§
2. **å¤šæ ¼å¼å…¼å®¹** - æ”¯æŒå¤šç§ LLM å“åº”æ ¼å¼
3. **éè´ªå©ªåŒ¹é…** - ç²¾ç¡®æå– JSON å¯¹è±¡
4. **æ¨¡å—åŒ–è®¾è®¡** - æ˜“äºç»´æŠ¤å’Œæ‰©å±•
5. **å®Œæ•´éªŒè¯** - å¯¹æ¯”è§£æç»“æœä¸å·²ä¿å­˜å€¼
6. **è‡ªåŠ¨æ›´æ–°** - æ›´æ–°ä¸åŒ¹é…çš„é¢„æµ‹ç»“æœå’ŒæŒ‡æ ‡

## ğŸ¯ å…¸å‹å·¥ä½œæµ

```
1. è¿è¡Œæµ‹è¯• â†’ éªŒè¯è§£æåŠŸèƒ½æ­£å¸¸
   â†“
2. è¯•è¿è¡Œ â†’ æ£€æŸ¥éªŒè¯æŠ¥å‘Š
   â†“
3. ç¡®è®¤æ— è¯¯ â†’ æ­£å¼è¿è¡Œæ›´æ–°
   â†“
4. æŸ¥çœ‹ç»“æœ â†’ æ£€æŸ¥éªŒè¯è¯¦æƒ…å’ŒæŒ‡æ ‡
```

## ğŸ’¡ æç¤º

- é¦–æ¬¡ä½¿ç”¨å»ºè®®å…ˆç”¨ `--dry-run` æ¨¡å¼
- æŸ¥çœ‹ `_verification_details.csv` äº†è§£è¯¦ç»†å¯¹æ¯”ç»“æœ
- å¤‡ä»½æ–‡ä»¶ä¿ç•™åœ¨åŸç›®å½•ï¼Œå¯ç”¨äºå›æ»š
- ä½¿ç”¨ `--filter` å‚æ•°å¯ä»¥åªå¤„ç†ç‰¹å®šä»»åŠ¡

